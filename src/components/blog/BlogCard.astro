---
import Badge from '../ui/Badge.astro';

interface Props {
  title: string;
  description: string;
  category: string;
  pubDate: Date;
  slug: string;
  readingTime?: string;
  class?: string;
}

const { title, description, category, pubDate, slug, readingTime, class: className = '' } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('tr-TR', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});

const categoryColors: Record<string, 'cyan' | 'purple' | 'pink' | 'default'> = {
  'AI': 'cyan',
  'E-Commerce': 'pink',
  'Analytics': 'purple',
  'Personalization': 'pink',
  'Technology': 'cyan',
  'Marketing': 'purple',
};
---

<a href={`/blog/${slug}`} class={`block group ${className}`}>
  <article class="h-full p-6 rounded-2xl bg-bg-card border border-white/10 transition-all duration-300 hover:border-cyan/30 hover:-translate-y-1">
    <Badge variant={categoryColors[category] || 'default'} size="sm">
      {category}
    </Badge>
    <h3 class="mt-4 text-lg font-display font-semibold text-text-primary group-hover:text-cyan transition-colors">
      {title}
    </h3>
    <p class="mt-2 text-sm text-text-muted line-clamp-2">
      {description}
    </p>
    <div class="mt-4 flex items-center gap-4 text-xs text-text-muted">
      <span>{formattedDate}</span>
      {readingTime && (
        <>
          <span>â€¢</span>
          <span>{readingTime}</span>
        </>
      )}
    </div>
  </article>
</a>
